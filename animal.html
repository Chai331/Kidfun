<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Animal Matching</title>
<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:linear-gradient(#AEE2FF,#FEE9A6);
  font-family:Segoe UI;
  overflow:hidden;
  text-align:center;
}

h1{
  font-size:44px;
  margin:16px;
}

#stars{
  font-size:34px;
  color:#FFD700;
}

#game{
  width:100%;
  height:calc(100% - 140px);
  display:flex;
  justify-content:space-evenly;
  align-items:center;
}

.animal, .shadow{
  width:140px;
  height:140px;
  border-radius:30px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:90px;
  cursor:grab;
  user-select:none;
}

.animal{
  background:white;
  box-shadow:0 12px 0 rgba(0,0,0,.25);
}
.shadow{
  background:#6EA7E0;
  opacity:.35;
}

.correct{
  background:#9CFFAE!important;
  opacity:1!important;
}

/* Popup */
#popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  align-items:center;
  justify-content:center;
}
#popup div{
  background:white;
  padding:40px;
  border-radius:30px;
  font-size:40px;
  box-shadow:0 20px 0 rgba(0,0,0,.3);
}
#home{
  position:fixed;
  top:20px;
  left:20px;
  background:rgba(0,0,0,.5);
  color:white;
  padding:14px 26px;
  border-radius:16px;
  font-size:20px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="home" onclick="location.href='index.html'">‚¨Ö HOME</div>

<h1>Match the Animals üêæ</h1>
<div id="stars">‚≠ê 0</div>
<div id="game"></div>

<div id="popup"><div>Great Job! üéâ</div></div>

<audio id="success" src="click.mp3"></audio>

<script>
const animals = ["üê∂","üê±","üêÆ","üê∏","üê∑"];
const game = document.getElementById("game");
const popup = document.getElementById("popup");
const stars = document.getElementById("stars");
const sound = document.getElementById("success");
let score = 0;

function shuffle(arr){
  return arr.sort(()=>Math.random()-.5);
}

function newRound(){
  game.innerHTML="";
  popup.style.display="none";

  const picks = shuffle([...animals]).slice(0,3);
  const shuffled = shuffle([...picks]);

  picks.forEach(a=>{
    const el = document.createElement("div");
    el.className="animal";
    el.textContent=a;
    el.draggable=true;
    el.addEventListener("dragstart", e=>{
      e.dataTransfer.setData("emoji", a);
    });
    game.appendChild(el);
  });

  shuffled.forEach(a=>{
    const sh = document.createElement("div");
    sh.className="shadow";
    sh.textContent=a;
    sh.dataset.match=a;
    sh.addEventListener("dragover", e=>e.preventDefault());
    sh.addEventListener("drop", e=>{
      const em = e.dataTransfer.getData("emoji");
      if(em === sh.dataset.match){
        sh.textContent=em;
        sh.classList.add("correct");
        sound.currentTime=0;
        sound.play();
        score++;
        stars.textContent="‚≠ê "+score;

        if(document.querySelectorAll(".correct").length===3){
          popup.style.display="flex";
          setTimeout(newRound, 1400);
        }
      }
    });
    game.appendChild(sh);
  });
}
newRound();
</script>

</body>
</html>
